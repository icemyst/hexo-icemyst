#footer-wrap
  if theme.footer.owner.enable
    - var now = new Date()
    - var nowYear = now.getFullYear()
    if theme.footer.owner.since && theme.footer.owner.since != nowYear
      .copyright!= `&copy;${theme.footer.owner.since} - ${nowYear} By ${config.author}`
    else
      .copyright!= `&copy;${nowYear} By ${config.author}`
  if theme.footer.copyright
    .framework-info
      span= _p('footer.framework') + ' '
      a(href='https://hexo.io')= 'Hexo'
      span.footer-separator |
      span= _p('footer.theme') + ' '
      a(href='https://github.com/jerryc127/hexo-theme-butterfly')= 'Butterfly'

  - let work_img = theme.footer.runtime.work_img
  - let work_description = theme.footer.runtime.work_description
  if theme.footer.runtime.enable
    #workboard
      img(src=`${work_img}`, alt=`${work_description}`, title=`${work_description}`, class="workSituationImg boardsign")
      #runtimeTextTip(style="display:flex;justify-content:center;align-items:center;")

  if theme.footer.custom_text
    .footer_custom_text!=`${theme.footer.custom_text}`


  .wordcount
  - let allword = totalcount(site)
  span= '冰梦已经写了 ' + allword + ' 字，'
  if isNaN(allword)
    - allword= Number(allword.replace('k', ''))
    if allword< 50
      span= "还在努力更新中.. 加油！加油啦！"
    else if allword< 70
      span= "好像写完一本 埃克苏佩里 的 《小王子》 了啊"
    else if allword< 90
      span= "好像写完一本 鲁迅 的 《呐喊》 了啊"
    else if allword< 100
      span= "好像写完一本 林海音 的 《城南旧事》 了啊"
    else if allword< 110
      span= "好像写完一本 马克·吐温 的 《王子与乞丐》了！ 了啊"
    else if allword< 120
      span= "好像写完一本 鲁迅 的 《彷徨》 了啊"
    else if allword< 130
      span= "好像写完一本 余华 的 《活着》 了啊"
    else if allword< 140
      span= "好像写完一本 曹禺 的 《雷雨》 了啊"
    else if allword< 150
      span= "好像写完一本 史铁生 的 《宿命的写作》 了啊"
    else if allword< 160
      span= "好像写完一本 伯内特 的 《秘密花园》 了啊"
    else if allword< 170
      span= "好像写完一本 曹禺 的 《日出》 了啊"
    else if allword< 180
      span= "好像写完一本 马克·吐温 的 《汤姆·索亚历险记》 了啊"
    else if allword< 190
      span= "好像写完一本 沈从文 的 《边城》 了啊"
    else if allword< 200
      span= "好像写完一本 亚米契斯 的 《爱的教育》 了啊"
    else if allword< 210
      span= "好像写完一本 巴金 的 《寒夜》 了啊"
    else if allword< 220
      span= "好像写完一本 东野圭吾 的 《解忧杂货店》 了啊"
    else if allword< 230
      span= "好像写完一本 莫泊桑 的 《一生》 了啊"
    else if allword< 250
      span= "好像写完一本 简·奥斯汀 的 《傲慢与偏见》 了啊"
    else if allword< 280
      span= "好像写完一本 钱钟书 的 《围城》 了啊"
    else if allword< 300
      span= "好像写完一本 张炜 的 《古船》 了啊"
    else if allword< 310
      span= "好像写完一本 茅盾 的 《子夜》 了啊"
    else if allword< 320
      span= "好像写完一本 阿来 的 《尘埃落定》 了啊"
    else if allword< 340
      span= "好像写完一本 艾米莉·勃朗特 的 《呼啸山庄》 了啊"
    else if allword< 350
      span= "好像写完一本 雨果 的 《巴黎圣母院》 了啊"
    else if allword< 360
      span= "好像写完一本 东野圭吾 的 《白夜行》 了啊"
    else
      span= "好像写完一本我国著名的 四大名著 了！！！"
  else
    span= "还在努力更新中.. 加油！加油啦！"

- let launch_time = theme.footer.runtime.launch_time
- let offduty_img = theme.footer.runtime.offduty_img
- let offduty_description = theme.footer.runtime.offduty_description
script(async=true).
  (function () {
    var grt = new Date("#{launch_time}"); //设置网站上线时间
    var now = new Date();
    var dnum;
    var hnum;
    var mnum;
    var snum;
    var nowHour;

    // 计算并更新天数、小时数、分钟数和秒数
    function updateTime() {
      now = new Date(); // 更新 now 的值
      nowHour = now.getHours(); // 更新 nowHour 的值
      var days = (now - grt) / 1000 / 60 / 60 / 24;
      dnum = Math.floor(days);
      var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
      hnum = Math.floor(hours);
      if (String(hnum).length == 1) {
        hnum = "0" + hnum;
      }
      var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
      mnum = Math.floor(minutes);
      if (String(mnum).length == 1) {
        mnum = "0" + mnum;
      }
      var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
      snum = Math.round(seconds);
      if (String(snum).length == 1) {
        snum = "0" + snum;
      }
    }

    // 更新网页中显示的网站运行时间
    function updateHtml() {
      const footer = document.getElementById("footer");
      if (!footer) return
      let currentTimeHtml = "";
      if (nowHour < 18 && nowHour >= 9) {
        // 如果是上班时间，默认就是"冰梦-上班摸鱼中.svg"图片，不需要更改
        currentTimeHtml = `<div style="box-shadow: 0 0 5px rgba(28,69,218,.71);animation: flashlight 1s linear infinite alternate;width:fit-content;color:#fff;padding: 0 10px;border-radius: 10px;background-color: rgba(0, 0, 0, 0.7);"><font style=color:#23a6d5>&nbsp本站已苟活&nbsp</font>${dnum} <font style=color:#aff4df>&nbsp天&nbsp</font><span id='runtime'> ${hnum} <font style=color:#f391a9> &nbsp小时&nbsp</font> ${mnum} <font style=color:#fdb933>&nbsp分&nbsp</font> ${snum} <font style=color:#a3cf62>&nbsp秒</font> </span></div>`;
      } else {
        // 如果是下班时间，插入"冰梦-下班啦.svg"图片
        let img = document.querySelector("#workboard .workSituationImg");
        img.src = "!{offduty_img}";
        img.title = "#{offduty_description}";
        img.alt = "#{offduty_description}";
        currentTimeHtml = `<div style="box-shadow: 0 0 5px rgba(28,69,218,.71);animation: flashlight 1s linear infinite alternate;width:fit-content;color:#fff;padding: 0 10px;border-radius: 10px;background-color: rgba(0, 0, 0, 0.7);"><font style=color:#23a6d5>&nbsp本站已苟活&nbsp</font>${dnum} <font style=color:#aff4df>&nbsp天&nbsp</font><span id='runtime'> ${hnum} <font style=color:#f391a9> &nbsp小时&nbsp</font> ${mnum} <font style=color:#fdb933>&nbsp分&nbsp</font> ${snum} <font style=color:#a3cf62>&nbsp秒</font> </span></div>`;

      }

      if (document.getElementById("runtimeTextTip")) {
        document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
      }
    }

    setInterval(() => {
      updateTime();
      updateHtml();
    }, 1000);
  })();